<html>
    <head>
        <script src="jquery-1.8.3.js"></script>
        <link rel="stylesheet" type="text/css" href="dms.css">

        <script type="text/javascript">
            $(document).ready(function(){
                $.ajax({
                    url: "/dms/docs",
                    dataType: "json"
                }).success(function(html) {
                    html.map(function(dto) {
                        var row = $("<tr />");
                        $("<td />").text(dto.document.documentNo).appendTo(row);
                        $("<td />").text(dto.document.title).appendTo(row);
                        $("<td />").text(dto.document.revision).appendTo(row);
                        $("<td />").append($("<a href='javascript:getHistory(&quot;" + dto.links[0].uri + "&quot;);'>History</a>")).appendTo(row);
                        row.appendTo("#results");
                    });
                });
            });

            function getHistory(uri) {
                $.ajax({
                    url: uri,
                    dataType: "json"
                }).success(function(response) {
                    alert(response[0].document.documentId);
                });
            }

        </script>
    </head>
    <body>
        <ul>
            <li><a href="">Register</a></li>
            <li><a href="">Delete</a></li>
        </ul>
        <br/>
        <br/>
        <table id="results">
            <tr><th>Document No.</th><th>Title</th><th>Revision</th><th>Actions</th></tr>
        </table>
    </body>
</html>